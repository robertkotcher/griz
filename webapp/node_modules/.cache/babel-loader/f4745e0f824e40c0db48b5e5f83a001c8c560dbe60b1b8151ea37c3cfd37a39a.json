{"ast":null,"code":"import _regeneratorRuntime from\"/Users/robertkotcher/griz-backend/webapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/robertkotcher/griz-backend/webapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/robertkotcher/griz-backend/webapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import axios from'axios';import{useState}from\"react\";import styles from\"@chatscope/chat-ui-kit-styles/dist/default/styles.min.css\";import{MainContainer,ChatContainer,MessageList,Message,MessageInput,TypingIndicator}from\"@chatscope/chat-ui-kit-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QUERY_URL=\"/api/query\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];var handleSend=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_,text){var encodedText,url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);messages.push({text:text,time:new Date(),sender:\"Robert\",direction:\"outgoing\"});_context.prev=2;encodedText=encodeURIComponent(text);url=\"\".concat(QUERY_URL,\"?q=\").concat(encodedText);// Send the request using Axios or any other HTTP client library\n_context.next=7;return axios.get(url);case 7:response=_context.sent;messages.push({text:response.data.data,time:new Date(),sender:\"Griz\",direction:\"incoming\"});setLoading(false);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.error('Error sending the request:',_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[2,12]]);}));return function handleSend(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ask a question about one of these tables:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"bitcoin_blockchain blocks\"}),/*#__PURE__*/_jsx(\"li\",{children:\"bitcoin_blockchain transactions\"}),/*#__PURE__*/_jsx(\"li\",{children:\"austin_waste waste_and_diversion\"}),/*#__PURE__*/_jsx(\"li\",{children:\"austin_bikeshare bikeshare_stations\"}),/*#__PURE__*/_jsx(\"li\",{children:\"austin_bikeshare bikeshare_trips\"}),/*#__PURE__*/_jsx(\"li\",{children:\"census_bureau_construction new_residential_construction\"}),/*#__PURE__*/_jsx(\"li\",{children:\"census_opportunity_atlas tract_covariates\"}),/*#__PURE__*/_jsx(\"li\",{children:\"chicago_crime crime\"}),/*#__PURE__*/_jsx(\"li\",{children:\"covid19_aha hospital_beds\"}),/*#__PURE__*/_jsx(\"li\",{children:\"covid19_aha staffing2\"})]}),/*#__PURE__*/_jsx(MainContainer,{className:\"main-container\",children:/*#__PURE__*/_jsxs(ChatContainer,{children:[/*#__PURE__*/_jsx(MessageList,{typingIndicator:loading?/*#__PURE__*/_jsx(TypingIndicator,{content:\"Griz is typing\"}):null,children:messages.map(function(m,idx){return/*#__PURE__*/_jsx(Message,{model:{message:m.text,direction:m.direction,sentTime:\"\".concat(m.time),sender:m.sender}},idx);})}),/*#__PURE__*/_jsx(MessageInput,{attachButton:false,onSend:handleSend,placeholder:\"Type prompt here\"})]})})]});}export default App;","map":{"version":3,"names":["axios","useState","styles","MainContainer","ChatContainer","MessageList","Message","MessageInput","TypingIndicator","jsx","_jsx","jsxs","_jsxs","QUERY_URL","App","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","messages","setMessages","handleSend","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_","text","encodedText","url","response","wrap","_callee$","_context","prev","next","push","time","Date","sender","direction","encodeURIComponent","concat","get","sent","data","t0","console","error","stop","_x","_x2","apply","arguments","className","children","typingIndicator","content","map","m","idx","model","message","sentTime","attachButton","onSend","placeholder"],"sources":["/Users/robertkotcher/griz-backend/webapp/src/App.js"],"sourcesContent":["import './App.css';\nimport axios from  'axios';\nimport { useState } from \"react\";\n\nimport styles from \"@chatscope/chat-ui-kit-styles/dist/default/styles.min.css\";\nimport {\n  MainContainer,\n  ChatContainer,\n  MessageList,\n  Message,\n  MessageInput,\n  TypingIndicator\n} from \"@chatscope/chat-ui-kit-react\";\n\nconst QUERY_URL = \"/api/query\";\n\nfunction App() {\n\tconst [loading, setLoading] = useState(false);\n\tconst [messages, setMessages] = useState([]);\n\n\tconst handleSend = async (_, text) => {\n\t\tsetLoading(true);\n\n\t\tmessages.push({\n\t\t\ttext,\n\t\t\ttime: new Date(),\n\t\t\tsender: \"Robert\",\n\t\t\tdirection: \"outgoing\"\n\t\t});\n\n\t\ttry {\n\t\t\tconst encodedText = encodeURIComponent(text);\n\t\t\tconst url = `${QUERY_URL}?q=${encodedText}`;\n\n\t\t\t// Send the request using Axios or any other HTTP client library\n\t\t\tconst response = await axios.get(url);\n\n\t\t\tmessages.push({\n\t\t\t\ttext: response.data.data,\n\t\t\t\ttime: new Date(),\n\t\t\t\tsender: \"Griz\",\n\t\t\t\tdirection: \"incoming\"\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error sending the request:', error);\n\t\t}\n\t}\n\n  return (\n    <div className=\"App\">\n\t\t\t<h2>\n\t\t\t\tAsk a question about one of these tables:\n\t\t\t</h2>\n\t\t\t<ul>\n\t\t\t\t<li>bitcoin_blockchain blocks</li>\n\t\t\t\t<li>bitcoin_blockchain transactions</li>\n\t\t\t\t<li>austin_waste waste_and_diversion</li>\n\t\t\t\t<li>austin_bikeshare bikeshare_stations</li>\n\t\t\t\t<li>austin_bikeshare bikeshare_trips</li>\n\t\t\t\t<li>census_bureau_construction new_residential_construction</li>\n\t\t\t\t<li>census_opportunity_atlas tract_covariates</li>\n\t\t\t\t<li>chicago_crime crime</li>\n\t\t\t\t<li>covid19_aha hospital_beds</li>\n\t\t\t\t<li>covid19_aha staffing2</li>\n\t\t\t</ul>\n\t\t\t<MainContainer className=\"main-container\">\n\t\t\t\t<ChatContainer>\n\t\t\t\t\t<MessageList typingIndicator={loading ? <TypingIndicator content=\"Griz is typing\" /> : null}>\n\t\t\t\t\t\t{messages.map((m, idx) => (\n\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\tmodel={{\n\t\t\t\t\t\t\t\t\tmessage: m.text,\n\t\t\t\t\t\t\t\t\tdirection: m.direction,\n\t\t\t\t\t\t\t\t\tsentTime: `${m.time}`,\n\t\t\t\t\t\t\t\t\tsender: m.sender,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</MessageList>\n\t\t\t\t\t<MessageInput attachButton={false} onSend={handleSend} placeholder=\"Type prompt here\" />\n\t\t\t\t</ChatContainer>\n\t\t\t</MainContainer>\n\t\t</div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}